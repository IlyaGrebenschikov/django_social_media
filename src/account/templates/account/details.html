{% extends 'main/layout.html' %}

{% load static %}

{% block title %}
  My Account
{% endblock title %}

{% block content %}
<div class="main-bg">
  <div style="width: 1220px; height: 600px; margin: 120px auto; border-radius: 50px; box-shadow: 0 2px 20px rgba(44, 31, 74, 0.5); position: relative; background: white;">

    <!-- Правая часть с информацией о пользователе -->
    <div style="width: 50%; float: right; padding: 160px; display: flex; flex-direction: column; justify-content: center; align-items: center; background: linear-gradient(135deg, #2c1f4a, #432874); border-radius: 0 50px 50px 0; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);">
        <div style="border: 5px solid white; padding: 5px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); width: 220px; height: 220px; display: flex; justify-content: center; align-items: center; border-radius: 50%; overflow: hidden;"> <!-- Белая рамка с закруглением -->
            <img src="{% static 'main/images/talking.png' %}" style="width: 100%; height: 100%; object-fit: cover;"> <!-- Сохранены стили изображения -->
        </div>
    
        <!-- Дропдаун с уведомлениями -->
        <div style="position: relative; margin-top: 20px;">
            <button onclick="toggleDropdown(event)" style="background: linear-gradient(45deg, #9d71ea, #7c4dff); border: none; border-radius: 50px; padding: 10px 15px; cursor: pointer; color: white; font-size: 16px; font-weight: bold; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); transition: background 0.3s; width: 100%; max-width: 200px;">
                Notifications
            </button>
            <div id="notificationDropdown" style="display: none; position: absolute; left: 50%; transform: translateX(-50%); background: white; border-radius: 10px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2); width: 250px; z-index: 1; margin-top: 5px;">
                <ul style="list-style-type: none; padding: 10px; margin: 0;">
                    <li style="margin-bottom: 10px; font-size: 14px; color: #333; padding: 10px; border-radius: 5px; transition: background 0.3s; cursor: pointer;">
                        <span style="font-weight: bold;">Новое сообщение:</span> от пользователя <strong>Иван</strong>
                    </li>
                    <li style="margin-bottom: 10px; font-size: 14px; color: #333; padding: 10px; border-radius: 5px; transition: background 0.3s; cursor: pointer;">
                        <span style="font-weight: bold;">Новый комментарий:</span> на пост
                    </li>
                    <li style="margin-bottom: 10px; font-size: 14px; color: #333; padding: 10px; border-radius: 5px; transition: background 0.3s; cursor: pointer;">
                        <span style="font-weight: bold;">Напоминание:</span> Встреча завтра в 10:00
                    </li>
                </ul>
                <a href="#" style="text-decoration: none; color: #007bff; font-size: 14px; display: block; text-align: center; padding: 10px; border-top: 1px solid #f0f0f0; border-radius: 0 0 10px 10px;">Посмотреть все уведомления</a>
            </div>
        </div>
    </div>

    <!-- Левая часть с дополнительной информацией -->
    <div style="width: 50%; float: left; padding: 40px; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); height: 100%; border-radius: 50px 0 0 50px; display: flex; flex-direction: column; justify-content: center; align-items: center; box-shadow: inset 0 0 20px rgba(0,0,0,0.05);">
        <h2 style="font-size: 50px; font-weight: bold;  margin-bottom: 40px; text-align: center; background: linear-gradient(45deg, #2c1f4a, #7c4dff); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Account Details</h2>
        
        <div style="width: 100%; text-align: center; margin-bottom: 20px;"> <!-- Изменено на text-align: center -->
            <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 10px;"> <!-- Добавлено justify-content: center -->
                <img src="{% static 'main/images/gender-identity.png' %}" alt="Username" style="width: 24px; height: 24px; margin-right: 10px;">
                <span style="font-size: 16px; color: #2c1f4a;">Username: <strong>{{ user.username }}</strong></span>
            </div>
            <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 10px;"> <!-- Добавлено justify-content: center -->
                <img src="{% static 'main/images/mail.png' %}" alt="Email" style="width: 24px; height: 24px; margin-right: 10px;">
                <span style="font-size: 16px; color: #2c1f4a;">Email: <strong>{{ user.email }}</strong></span>
            </div>
            <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 10px;"> <!-- Добавлено justify-content: center -->
                <img src="{% static 'main/images/calendar.png' %}" alt="Joined Date" style="width: 24px; height: 24px; margin-right: 10px;">
                <span style="font-size: 16px; color: #2c1f4a;">Joined on: <strong>{{ user.date_joined|date:"F j, Y" }}</strong></span>
            </div>
        </div>
        
        <p style="font-size: 14px; color: #432874; text-align: center;">
            Want to update your information?
            <a href="#" style="text-decoration: none;">
                <button style="
                    background: linear-gradient(45deg, #9d71ea, #7c4dff);
                    color: white;
                    border: none;
                    padding: 8px 20px;
                    border-radius: 25px;
                    font-size: 14px;
                    font-weight: bold;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    margin-left: 10px;
                    box-shadow: 0 2px 5px rgba(44, 31, 74, 0.2);
                    text-transform: uppercase;
                    letter-spacing: 0.5px;">
                    Settings
                </button>
            </a>
        </p>
    </div>
</div>

<script>
    function toggleDropdown(event) {
        event.stopPropagation(); // Остановить всплытие события
        var dropdown = document.getElementById("notificationDropdown");
        dropdown.style.display = dropdown.style.display === "none" || dropdown.style.display === "" ? "block" : "none";
    }

    // Скрыть дропдаун при клике вне его
    document.addEventListener("click", function(event) {
        var dropdown = document.getElementById("notificationDropdown");
        if (dropdown.style.display === "block") {
            dropdown.style.display = "none";
        }
    });


</script>

{% endblock content %}