{% load static %}

<nav class="navbar navbar-expand-lg" style="padding: 0px; height: 60px; background: linear-gradient(to right, #2c1f4a, #432874); box-shadow: 0 2px 15px rgba(44, 31, 74, 0.3);">
    <div class="container-fluid" style="background: transparent;">
        <!-- Логотип -->
        <a class="navbar-brand" href="{% url 'home_page' %}" style="display: flex; align-items: center; position: absolute; top: 6px; left: 30px; transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">
            <img src="{% static 'main/images/book.png' %}" alt="#" style="width: 35px; height: 35px; margin-right: 10px;">
            <span style="font-size: 20px; font-weight: bold; background: linear-gradient(45deg, #9d71ea, #7c4dff); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                Django SM
            </span>
        </a>

        <!-- Поиск -->
        <div style="position: absolute; top: 10px; right: 350px;">
            <form class="form-inline">
                <input class="form-control" type="search" placeholder="Search" aria-label="Search" 
                    style="width: 300px; height: 40px; border-radius: 20px; border: 2px solid #432874; padding: 0 20px; font-size: 14px; transition: all 0.3s ease; background: rgba(255, 255, 255, 0.1); color: white;"
                    onmouseover="this.style.boxShadow='0 0 15px rgba(125, 77, 255, 0.3)'; this.style.borderColor='#7c4dff'" 
                    onmouseout="this.style.boxShadow='none'; this.style.borderColor='#432874'"
                    placeholder="Search..."
                    style="color: white; background: rgba(255, 255, 255, 0.1);">
            </form>
        </div>

        <!-- Профиль -->
        <div style="position: absolute; top: 10px; right: 200px;">
            <ul class="navbar-nav">
                {% if user.is_authenticated %}
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" 
                        style="background: #7c4dff; border-radius: 50%; padding: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.2); transition: all 0.3s ease;"
                        onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 5px 15px rgba(124, 77, 255, 0.4)'"
                        onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 10px rgba(0,0,0,0.2)'">
                        <img src="{% static 'main/images/talking.png' %}" alt="#" style="width: 24px; height: 24px;">
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown" 
                        style="border-radius: 15px; border: none; box-shadow: 0 5px 25px rgba(44, 31, 74, 0.2); margin-top: 10px; overflow: hidden; background: #2c1f4a;">
                        <li>
                            <a class="dropdown-item" href="{% url 'user_detail' user.pk %}" style="padding: 12px 24px; transition: all 0.2s ease; color: #fff;" 
                                onmouseover="this.style.background='#432874'; this.style.paddingLeft='30px'" 
                                onmouseout="this.style.background='transparent'; this.style.paddingLeft='24px'">
                                My page
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item" href="#" style="padding: 12px 24px; transition: all 0.2s ease; color: #fff;"
                                onmouseover="this.style.background='#432874'; this.style.paddingLeft='30px'" 
                                onmouseout="this.style.background='transparent'; this.style.paddingLeft='24px'">
                                Settings
                            </a>
                        </li>
                        <li><hr class="dropdown-divider" style="margin: 8px 0; border-color: #432874;"></li>
                        <li>
                            <form method="post" action="{% url 'logout' %}">
                                {% csrf_token %}
                                <button type="submit" class="dropdown-item" style="padding: 12px 24px; color: #ff6b6b; transition: all 0.2s ease;"
                                    onmouseover="this.style.background='#3a2563'; this.style.paddingLeft='30px'" 
                                    onmouseout="this.style.background='transparent'; this.style.paddingLeft='24px'">
                                    Logout
                                </button>
                            </form>
                        </li>
                    </ul>
                </li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>